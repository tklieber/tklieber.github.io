Plan du cours :

1. Introduction à JSON Web Tokens (JWTs)
- Qu'est-ce qu'un JWT et à quoi sert-il ?

- Comment fonctionnent les JWTs ?
2. Structure d'un JWT
- Qu'est-ce qu'un header JWT ?

- Qu'est-ce qu'un payload JWT ?

- Qu'est-ce qu'un signature JWT ?
3. Utilisation de JWTs
- Comment utiliser les JWTs pour authentifier l'accès à des ressources ?

- Comment utiliser les JWTs pour autoriser l'accès à des ressources ?
4. Signature de JWTs
- Comment signer un JWT ?

- Comment vérifier la signature d'un JWT ?
5. JWTs et sécurité
- Quels sont les risques liés à l'utilisation de JWTs ?

- Comment protéger les JWTs contre les attaques courantes ?
6. Exemples d'utilisation de JWTs
- Quelques exemples concrets d'utilisation de JWTs dans des applications web.

# Introduction et présentation en vidéo :

Dans cette section, nous allons voir comment des problèmes de conception et une mauvaise gestion des jetons de web JSON (JWTs) peuvent rendre les applications web vulnérables à diverses attaques avec un impact fort qui pourrait être très précieuses pour une opération de Red Team.

 Étant donné que les JWTs sont le plus souvent utilisés dans les mécanismes 
d'authentification, de gestion de session et de contrôle d'accès, ces vulnérabilités peuvent potentiellement compromettre l'intégralité du site web et ses utilisateurs.

Si vous n'êtes pas familier avec les JWT vous n'avez pas de soucis à vous faire, nous allons développer le fonctionnement de ces token mais aussi voire comment nous pouvons les exploiter lors d'opération de Red Team par exemple.

Les **jetons de web JSON (JWTs)** sont un format **normalisé** pour envoyer des données JSON signées de manière cryptographique entre les systèmes. 

Théoriquement, ils peuvent contenir n'importe quel type de données, mais
 ils sont le plus souvent utilisés pour envoyer des informations, dite "claims" (traduit littéralement par "réclamation" en français), sur les utilisateurs dans le cadre de mécanismes d'authentification, de gestion de session et/ou de contrôle d'accès. 

Contrairement aux token de session classiques, toutes les données dont 
un serveur a besoin sont stockées en client-side (côté client) dans le JWT. 

Cela fait des JWTs un très bon choix pour les applications web hautement 
distribués où les utilisateurs doivent interagir de manière transparente
 avec plusieurs serveurs back-end.

Composition des JWT :

composé de 3 parties :

- header : metadata : algo + type de token - *encoder en B64*

- payload (données) : les données nécessaires - *encoder en B64*

- signature : signature du header et du payload avec un secret et un certain algo décrit plus haut. Signature avec des algo symétrique (HMAC SHA256) ou asymétrique (RSA-SHA256). La solidité du token repose sur le ou les secret(s) utilisés dans le JWT







4. Signature de JWTs
- Comment signer un JWT ?

- Comment vérifier la signature d'un JWT ?
5. JWTs et sécurité
- Quels sont les risques liés à l'utilisation de JWTs ?

- Comment protéger les JWTs contre les attaques courantes ?

# Écrit :

démo hashcat

démo modifier l'algo en "none" => voire la CVE
